---
import Layout from "../layouts/Layout.astro";
---

<Layout title="Feature Visualizer">
  <main>
    <h1>Feature Visualizer</h1>
    <div class="chart-container">

    </div>
  </main>
</Layout>


<script>
  import features from '../common/js_objects/features.js';
  import utils from '../common/utils.js';

  const { featureNames,samples } = features;
  const options = {
    width: 400,
    height: 400,
    hAxis: {title: featureNames[0]},
    vAxis: {title: featureNames[1]},
    legend: {position: 'none'},
    explorer: {
      maxZoomIn: 0.01,
      actions: ['dragToZoom', 'rightClickToReset'],
    }
  }

  google.charts.load('current', {'packages':['corechart']});
  google.charts.setOnLoadCallback(drawChart);
  function drawChart() {
    const data = new google.visualization.DataTable();
    data.addColumn('number', featureNames[0]);
    data.addColumn('number', featureNames[1]);
    data.addColumn({type: 'string', role: 'style'});
    data.addRows(samples.map((s)=>{
      return [
        ...s.point,
        utils.styles[s.label]
      ];
    }));
    const char = new google.visualization.ScatterChart(document.querySelector('.chart-container'));
    char.draw(data, options);
  }
</script>